<section class="main-content">
	<ul class="breadcrumb breadcrumb-style">
		<li class="breadcrumb-item">
			<h5 class="page-title m-b-0">Admin</h5>
		</li>
		<li class="breadcrumb-item bcrumb-1">
			<a routerLink="/dashboard/main"> <i class="fas fa-home font-17"></i></a>
		</li>
		<li class="breadcrumb-item">Subject Teachers</li>
	</ul>
	<div class="section-body">
		<div class="row clearfix">
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
				<div class="card" [style]="{ border: '1px solid #e0e0e0', 'border-radius': '0' }">
					<div class="p-10">
						<div class="row">
							<div class="col-12">
								<div class="row m-0">
									<div class="col-12 p-0">
										<div class="ngxTableHeader">
											<div class="table-title">
												<h2><strong>Subject Teachers</strong></h2>
											</div>
										</div>
									</div>
								</div>
								<div class="col-12 p-0">
									<div class="row">
										<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 ps-3 pe-3 pt-3">
											<div class="form-group">
												<label>Search</label>
												<input
													type="text"
													[(ngModel)]="name"
													[ngModelOptions]="{ standalone: true }"
													class="p-inputtext-sm"
													[style]="{ width: '100%' }"
													placeholder="Search by name"
													name="searchText"
													pInputText
												/>
											</div>
										</div>
										<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 ps-3 pe-3 pt-3">
											<div class="form-group">
												<label>Academic Year</label>
												<p-dropdown
													[options]="academicYears"
													class="p-inputtext-sm"
													optionLabel="name"
													optionValue="id"
													[(ngModel)]="currentAcadmicYearId"
													[ngModelOptions]="{ standalone: true }"
													[style]="{ width: '100%' }"
													[disabled]="false"
												>
													<div [style]="{ width: '100%' }">
														<ng-template let-item pTemplate="item">
															{{ item.name }}
														</ng-template>
													</div>
												</p-dropdown>
											</div>
										</div>
										<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 ps-3 pe-3 pt-3">
											<div class="form-group">
												<label>Academic Level</label>
												<p-dropdown
													[options]="academicLevels"
													class="p-inputtext-sm"
													optionLabel="name"
													optionValue="id"
													[(ngModel)]="academiclLevelId"
													[ngModelOptions]="{ standalone: true }"
													[style]="{ width: '100%' }"
													(onChange)="getSubjectsForSelectedAcademicLevel()"
												>
													<div [style]="{ width: '100%' }">
														<ng-template let-item pTemplate="item">
															{{ item.name }}
														</ng-template>
													</div>
												</p-dropdown>
											</div>
										</div>
										<div
											class="col-lg-3 col-md-3 col-sm-12 col-xs-12 ps-3 pe-3 pt-5"
											(click)="getAllSubjectTeachersByFilter()"
										>
											<button class="btn btn-primary me-2">Search</button>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
								<p-table
									[value]="listOfSubjectTeachers"
									[responsive]="true"
									styleClass="p-datatable-gridlines p-datatable-sm"
									selectionMode="single"
								>
									<ng-template pTemplate="header">
										<tr>
											<th></th>
											<th>Subject</th>
											<th>Teachers Count</th>
											<th>Assigned Teachers</th>
										</tr>
									</ng-template>
									<ng-template pTemplate="body" let-rowData>
										<tr>
											<td>
												<div class="buttons">
													<span>
														<button class="btn btn-icon btn-sm btn-primary" (click)="setSubjectTeacherDetails(rowData)">
															<i class="fas fa-pen"></i> Edit
														</button>
													</span>
												</div>
											</td>
											<td>{{ rowData.subject }}</td>
											<td>{{ rowData.assignedTeachersCount }}</td>
											<td>{{ rowData.assignedSubjectTeachersName }}</td>
										</tr>
									</ng-template>
								</p-table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
